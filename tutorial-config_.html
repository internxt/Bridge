<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Internxt API Tutorial: Configuring the Bridge</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<script src="scripts/highlight.min.js"></script>

	<link type="text/css" rel="stylesheet" href="styles/site.storj.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" style="background-image:url(https://internxt.com/img/logos/round3.png)"  href="index.html">Internxt API</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="module-storj-bridge.html">storj-bridge</a></li><li><a href="module-storj-bridge_constants.html">storj-bridge/constants</a></li><li><a href="module-storj-bridge_logger.html">storj-bridge/logger</a></li><li><a href="module-storj-bridge_utils.html">storj-bridge/utils</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="BucketsRouter.html">BucketsRouter</a></li><li><a href="Config.html">Config</a></li><li><a href="ContactsRouter.html">ContactsRouter</a></li><li><a href="Engine.html">Engine</a></li><li><a href="FramesRouter.html">FramesRouter</a></li><li><a href="PublicKeysRouter.html">PublicKeysRouter</a></li><li><a href="ReportsRouter.html">ReportsRouter</a></li><li><a href="Router.html">Router</a></li><li><a href="Server.html">Server</a></li><li><a href="StripeRouter.html">StripeRouter</a></li><li><a href="UsersRouter.html">UsersRouter</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="tutorials.list.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="tutorial-auth.html">API Authentication</a></li><li><a href="tutorial-config_.html">Configuring the Bridge</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="global.html#Cleaner">Cleaner</a></li><li><a href="global.html#Monitor">Monitor</a></li>
				</ul>
			</li>
			
		</ul>
		<div class="col-sm-3 col-md-4">
            <form class="navbar-form" role="search">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                    <div class="input-group-btn">
                        <button class="btn btn-primary" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
            </form>
        </div>
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-12">
	
		<div id="main">
			<section class="tutorial-section">

<header>
    

    <h2>Configuring the Bridge</h2>
</header>

<article>
    <p>The <a href="Config.html">Config</a> class provides an interface for reading configuration files.
Bridge stores configuration in it's data directory which is located in
<code>$HOME/.storj-bridge</code>. A configuration is loaded by supplying the constructor with
an <code>env</code> or &quot;environment&quot; string.</p>
<p>The <code>env</code> string should correspond to a filename located in the
<code>$HOME/.storj-bridge/config</code> directory. When creating an instance of <a href="Config.html">Config</a>,
the supplied configuration is loaded from disk and used to overload the default
configuration. Once you have an instance of <a href="Config.html">Config</a>, you can access it's
properties simply by using standard dot-syntax.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>storage.name</td>
<td>null</td>
<td>The name of the database that Bridge will use. It should be changed as to not conflict with running tests.</td>
</tr>
<tr>
<td>storage.user</td>
<td>null</td>
<td>The username for your database. You should set a username and password unless your DB instance is only listening locally.</td>
</tr>
<tr>
<td>storage.pass</td>
<td>null</td>
<td>Same as above.</td>
</tr>
<tr>
<td>server.host</td>
<td>127.0.0.1</td>
<td>If your public IP is not bound to an interface on your host, you can set this to the IP bound to the interface with access to the internet or the network that Bridge traffic will travel accross. If you set this to a non public IP, you will also need to be sure to set the <code>server.public.host</code>.</td>
</tr>
<tr>
<td>server.public.host</td>
<td>127.0.0.1</td>
<td>The hosts public IP address or a DNS record that resolves to the public IP address of the Bridge server. You only need to set this if <code>server.host</code> is set to a non public accessible IP address.</td>
</tr>
<tr>
<td>complex.rpcUrl</td>
<td>http://localhost:8080</td>
<td>The URI for the <a href="https://github.com/Storj/complex">storj complex</a> service. Set this to the instance you have configured</td>
</tr>
<tr>
<td>complex.rpcUser</td>
<td>username</td>
<td>The user name for authenticating with the Complex server</td>
</tr>
<tr>
<td>complex.rpcPassword</td>
<td>password</td>
<td>the password for authenticating with the Complex server</td>
</tr>
</tbody>
</table>
<p>The following is a sanitized version of the config that we use to run our Bridge servers. You can find the defaults in <a href="https://github.com/Storj/bridge/blob/master/lib/config.js"><code>lib/config.js</code></a>.</p>
<pre class="prettyprint source"><code>{
  &quot;server&quot;: {
    &quot;host&quot;: &quot;api.storj.io&quot;,
    &quot;timeout&quot;: 60000,
    &quot;port&quot;: 8080,
    &quot;ssl&quot;: {
      &quot;cert&quot;: true
    }
  },
  &quot;storage&quot;: [
    {
      &quot;name&quot;: &quot;bridge&quot;,
      &quot;host&quot;: &quot;123.123.123.123&quot;,
      &quot;port&quot;: 27017,
      &quot;ssl&quot;: true,
      &quot;user&quot;: &quot;db_user&quot;,
      &quot;pass&quot;: &quot;super_strong_db_password&quot;,
      &quot;mongos&quot;: {
        &quot;checkServerIdentity&quot;: false,
        &quot;ssl&quot;: true,
        &quot;sslValidate&quot;: false
      }
    },
    {
      &quot;name&quot;: &quot;bridge&quot;,
      &quot;host&quot;: &quot;123.123.123.123&quot;,
      &quot;port&quot;: 27017,
      &quot;ssl&quot;: true,
      &quot;user&quot;: &quot;db_user&quot;,
      &quot;pass&quot;: &quot;super_strong_db_password&quot;,
      &quot;mongos&quot;: {
        &quot;checkServerIdentity&quot;: false,
        &quot;ssl&quot;: true,
        &quot;sslValidate&quot;: false
      }
    },
    {
      &quot;name&quot;: &quot;bridge&quot;,
      &quot;host&quot;: &quot;123.123.123.123&quot;,
      &quot;port&quot;: 27017,
      &quot;ssl&quot;: true,
      &quot;user&quot;: &quot;db_user&quot;,
      &quot;pass&quot;: &quot;super_strong_db_password&quot;,
      &quot;mongos&quot;: {
        &quot;checkServerIdentity&quot;: false,
        &quot;ssl&quot;: true,
        &quot;sslValidate&quot;: false
      }
    }
  ],
  &quot;mailer&quot;: {
    &quot;host&quot;: &quot;smtp.myemail.com&quot;,
    &quot;port&quot;: 465,
    &quot;auth&quot;: {
      &quot;user&quot;: &quot;robot@storj.io&quot;,
      &quot;pass&quot;: &quot;super_awesome_password&quot;
    },
    &quot;secure&quot;: true,
    &quot;from&quot;: &quot;robot@storj.io&quot;
  },
  &quot;complex&quot;: {
    &quot;rpcUrl&quot;: &quot;http://localhost:8080&quot;,
    &quot;rpcUser&quot;: &quot;username&quot;,
    &quot;rpcPassword&quot;: &quot;password&quot;
  }
}
</code></pre>
</article>

</section>

		</div>
	</div>

	<div class="clearfix"></div>

	

</div>
</div>

<div class="modal fade" id="searchResults">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Search results</h4>
      </div>
      <div class="modal-body"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>

<footer>


	<span class="copyright">
	Copyright 2019 Internxt Universal Technologies SL
	</span>

<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a>
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>
<script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>

<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	$('pre').each(function(i, block) {
		hljs.highlightBlock(block);
	});

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			var id = $( heading ).attr( "id" );
			return id && id.replace(/\~/g, '-inner-').replace(/\./g, '-static-') || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->


<script type="text/javascript">
	$(document).ready(function() {
		SearcherDisplay.init();
	});
</script>

</body>
</html>